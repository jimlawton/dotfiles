# ~/.tmux.conf

###########################################################################
# General options

# Set prefix to C-a.
unbind C-a
set -g prefix C-a
bind C-a send-prefix

# scrollback size
set -g history-limit 10000

# set first window to index 1 (not 0) to map more to the keyboard layout
#set -g base-index 1
#setw -g pane-base-index 1

set -g renumber-windows on

# pass through xterm keys
set -g xterm-keys on

###########################################################################
# General keymap

# Keep your finger on ctrl, or don't, same result
bind-key C-d detach-client
bind-key C-c new-window
bind-key C-p paste-buffer

# Redraw the client (if interrupted by wall, etc)
bind R refresh-client

# reload tmux config
unbind r
bind r source-file ~/.tmux.conf \; display 'Reloaded tmux config!'

###########################################################################
# Window management / navigation

# C-\ (no prefix) to skip to last window we were in before this one
bind -n "C-\\" last-window

# C-Space (no prefix) to tab to next window
bind -n C-Space next-window

# Keep current path for new window
bind c new-window -c "#{pane_current_path}"

# Space (with prefix) to toggle between current and previous window
bind Space last-window

# C-Space (with prefix) to toggle between current and previous session
bind-key C-Space switch-client -l

###########################################################################
# Pane management / navigation

bind-key "|" split-window -h -c "#{pane_current_path}"
bind-key "\\" split-window -fh -c "#{pane_current_path}"
bind-key "-" split-window -v -c "#{pane_current_path}"
bind-key "_" split-window -fv -c "#{pane_current_path}"

bind -r "<" swap-window -d -t -1
bind -r ">" swap-window -d -t +1

# C-b C-k to passthrough a C-k
# C-k is consumed for pane navigation but we want it for kill-to-eol
unbind C-k
bind C-k send-key C-k

###########################################################################
# Mouse mode

set -g mouse on

###########################################################################
# Color scheme (Solarized Dark)

# default statusbar colors
set-option -g status-bg brightgreen
set-option -g status-fg white

# pane number display
set-option -g display-panes-active-colour red
set-option -g display-panes-colour white

# clock
set-window-option -g clock-mode-colour cyan

###########################################################################

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
